{
    "version": "https://jsonfeed.org/version/1",
    "title": "没用的博客 • All posts by \"aplayer\" tag",
    "description": "没有一点用处的博客!😎😴😪",
    "home_page_url": "https://blog.tianjiaji.dedyn.io",
    "items": [
        {
            "id": "https://blog.tianjiaji.dedyn.io/2020/08/01/Butterfly%E6%B7%BB%E5%8A%A0Aplayer%E6%95%99%E7%A8%8B/undefined/507c070f.html",
            "url": "https://blog.tianjiaji.dedyn.io/2020/08/01/Butterfly%E6%B7%BB%E5%8A%A0Aplayer%E6%95%99%E7%A8%8B/undefined/507c070f.html",
            "title": "Butterfly添加全局吸底Aplayer教程",
            "date_published": "2020-07-31T19:02:28.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"note info flat\"><p>以下文章只是教程</p>\n<p>如果部署之后，并没有出现 aplayer , 请确认是否跟足步骤操作或者更换音乐源，多试试。</p>\n<p>如果遇到使用问题，请仔细查看插件文档，或者到插件那里反馈。</p>\n</div>\n\n<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>如果你想使用 aplayer，很多人都会推荐安装 <a href=\"https://github.com/MoePlayer/hexo-tag-aplayer\">hexo-tag-aplayer</a> 这款插件。这款插件通过 Hexo 独有的标籤外挂，我们可以很方便的写入一些参数，插件就会帮我们生成对应的 html。如果你只是使用一些简单的功能，其实无需使用到这个插件，只需以 html 格式书写就行，不用插件去转换。</p>\n<p>例如：</p>\n<p>如果使用插件，在 markdown 中要这样写</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% meting &quot;000PeZCQ1i4XVs&quot; &quot;tencent&quot; &quot;artist&quot; &quot;theme:#3F51B5&quot; &quot;mutex:true&quot; &quot;preload:auto&quot; %&#125;</span><br></pre></td></tr></table></figure>\n\n<p>其会被插件渲染为</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;aplayer-uxAIfEUs&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aplayer aplayer-tag-marker meting-tag-marker&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;000PeZCQ1i4XVs&quot;</span> <span class=\"attr\">data-server</span>=<span class=\"string\">&quot;tencent&quot;</span> <span class=\"attr\">data-type</span>=<span class=\"string\">&quot;artist&quot;</span> <span class=\"attr\">data-mode</span>=<span class=\"string\">&quot;circulation&quot;</span> <span class=\"attr\">data-autoplay</span>=<span class=\"string\">&quot;false&quot;</span> <span class=\"attr\">data-mutex</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">data-listmaxheight</span>=<span class=\"string\">&quot;340px&quot;</span> <span class=\"attr\">data-preload</span>=<span class=\"string\">&quot;auto&quot;</span> <span class=\"attr\">data-theme</span>=<span class=\"string\">&quot;#3F51B5&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如果我们不想使用插件，就需要在markdown中用html的格式书写，同时把主题配置文件中的<code>aplayerInject</code>开启</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aplayer&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;000PeZCQ1i4XVs&quot;</span> <span class=\"attr\">data-server</span>=<span class=\"string\">&quot;tencent&quot;</span> <span class=\"attr\">data-type</span>=<span class=\"string\">&quot;artist&quot;</span> <span class=\"attr\">data-mutex</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">data-preload</span>=<span class=\"string\">&quot;auto&quot;</span> <span class=\"attr\">data-theme</span>=<span class=\"string\">&quot;#3F51B5&quot;</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<p>这样我们就可以不用使用多一个插件，当然这种东西见仁见智，选自己喜欢的就行。</p>\n<p>回到正题，这篇文章将教大家如何在Butterfly上使用全局吸底 Aplayer</p>\n<p><img src=\"https://jsd.012700.xyz/gh/jerryc127/CDN/img/butterfly-aplayer-xidi.gif\" alt=\"aplayer\"></p>\n<h2 id=\"关闭-asset-inject\"><a href=\"#关闭-asset-inject\" class=\"headerlink\" title=\"关闭 asset_inject\"></a>关闭 <code>asset_inject</code></h2><div class=\"note info flat\"><p>此步骤适用于安装了 <code>hexo-tag-aplayer</code> 插件的人</p>\n</div>\n\n\n\n<p>由于需要全局都插入 aplayer 和 meting 资源，为了防止插入重复的资源，需要把 asset_inject 设为 <code>false</code></p>\n<p>在 Hexo 的配置文件中</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">aplayer:</span></span><br><span class=\"line\">  <span class=\"attr\">meting:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">asset_inject:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"开启主题的-aplayerInject\"><a href=\"#开启主题的-aplayerInject\" class=\"headerlink\" title=\"开启主题的 aplayerInject\"></a>开启主题的 <code>aplayerInject</code></h2><p>在主题的配置文件中，<code>enable</code> 设为 <code>true</code> 和 <code>per_page</code> 设为 <code>true</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Inject the css and script (aplayer/meting)</span></span><br><span class=\"line\"><span class=\"attr\">aplayerInject:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">per_page:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"插入-Aplayer-html\"><a href=\"#插入-Aplayer-html\" class=\"headerlink\" title=\"插入 Aplayer html\"></a>插入 Aplayer html</h2><p>为了适配 hexo-tag-aplayer，主题内置的 Meting js 仍为 1.2 版本，并非最新的 2.x 版本。</p>\n<p>Aplayer html 例子：</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aplayer no-destroy&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;60198&quot;</span> <span class=\"attr\">data-server</span>=<span class=\"string\">&quot;netease&quot;</span> <span class=\"attr\">data-type</span>=<span class=\"string\">&quot;playlist&quot;</span> <span class=\"attr\">data-fixed</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">data-autoplay</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span></span> <span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<p>参数解释</p>\n<table>\n<thead>\n<tr>\n<th>option</th>\n<th>default</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>data-id</td>\n<td><strong>require</strong></td>\n<td>song id &#x2F; playlist id &#x2F; album id &#x2F; search keyword</td>\n</tr>\n<tr>\n<td>data-server</td>\n<td><strong>require</strong></td>\n<td>music platform: <code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code></td>\n</tr>\n<tr>\n<td>data-type</td>\n<td><strong>require</strong></td>\n<td><code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code></td>\n</tr>\n<tr>\n<td>data-fixed</td>\n<td><code>false</code></td>\n<td>enable fixed mode</td>\n</tr>\n<tr>\n<td>data-mini</td>\n<td><code>false</code></td>\n<td>enable mini mode</td>\n</tr>\n<tr>\n<td>data-autoplay</td>\n<td><code>false</code></td>\n<td>audio autoplay</td>\n</tr>\n<tr>\n<td>data-theme</td>\n<td><code>#2980b9</code></td>\n<td>main color</td>\n</tr>\n<tr>\n<td>data-loop</td>\n<td><code>all</code></td>\n<td>player loop play, values: ‘all’, ‘one’, ‘none’</td>\n</tr>\n<tr>\n<td>data-order</td>\n<td><code>list</code></td>\n<td>player play order, values: ‘list’, ‘random’</td>\n</tr>\n<tr>\n<td>data-preload</td>\n<td><code>auto</code></td>\n<td>values: ‘none’, ‘metadata’, ‘auto’</td>\n</tr>\n<tr>\n<td>data-volume</td>\n<td><code>0.7</code></td>\n<td>default volume, notice that player will remember user setting, default volume will not work after user set volume themselves</td>\n</tr>\n<tr>\n<td>data-mutex</td>\n<td><code>true</code></td>\n<td>prevent to play multiple player at the same time, pause other players when this player start play</td>\n</tr>\n<tr>\n<td>data-lrctype</td>\n<td><code>0</code></td>\n<td>lyric type</td>\n</tr>\n<tr>\n<td>data-listfolded</td>\n<td><code>false</code></td>\n<td>indicate whether list should folded at first</td>\n</tr>\n<tr>\n<td>data-listmaxheight</td>\n<td><code>340px</code></td>\n<td>list max height</td>\n</tr>\n<tr>\n<td>data-storagename</td>\n<td><code>metingjs</code></td>\n<td>localStorage key that store player setting</td>\n</tr>\n</tbody></table>\n<div class=\"note info flat\"><p><code>require</code> 代表着这些参数是必须要使用的，其它的参数则可以根据自己需要配置。</p>\n<p>配置全局吸底，<code>data-fixed</code> 和 <code>data-mini</code> 也必须配置，配置为 <code>true</code></p>\n<p>如果使用 Pjax，则在 class 里需添加 <code>no-destroy</code>，这样防止切换页面时 Aplayer 被销毁</p>\n</div>\n\n<p>把  <code>aplayer代码</code>  插入到主题配置文件的  <code>inject.bottom</code> 去</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">  <span class=\"attr\">bottom:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;div</span> <span class=\"string\">class=&quot;aplayer</span> <span class=\"literal\">no</span><span class=\"string\">-destroy&quot;</span> <span class=\"string\">data-id=&quot;60198&quot;</span> <span class=\"string\">data-server=&quot;netease&quot;</span> <span class=\"string\">data-type=&quot;playlist&quot;</span> <span class=\"string\">data-fixed=&quot;true&quot;</span> <span class=\"string\">data-autoplay=&quot;true&quot;&gt;</span> <span class=\"string\">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>运行 Hexo 就可以看到网页左下角出现了 Aplayer</p>\n<p>最后，如果你想切换页面时，音乐不会中断。请把主题配置文件的 <code>pjax</code> 设为 <code>true</code></p>\n",
            "tags": [
                "教程",
                "Hexo",
                "butterfly",
                "主题",
                "Aplayer"
            ]
        }
    ]
}